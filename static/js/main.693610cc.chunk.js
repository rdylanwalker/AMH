(this.webpackJsonpamh=this.webpackJsonpamh||[]).push([[0],{93:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var r=n(6),o=n(0),i=n.n(o),a=n(10),c=n.n(a),s=(n(93),n(27)),l=n(131),u=n(147),d=n(73),j=n(148),b=n(149),h=n(42),g=n(12),O=n(74),f=Object(o.createContext)(void 0);function m(e){var t=e.children,n=Object(o.useState)(null),i=Object(s.a)(n,2),a=i[0],c=i[1],l=Object(o.useRef)(),u=Object(o.useRef)(),d=Object(o.useCallback)((function(e,t){l.current=window.setTimeout((function(){c({name:"User"}),null===t||void 0===t||t()}),1e3)}),[]),j=Object(o.useCallback)((function(e){u.current=window.setTimeout((function(){c(null),null===e||void 0===e||e()}),500)}),[]);return Object(o.useEffect)((function(){return function(){window.clearTimeout(l.current),window.clearTimeout(u.current)}}),[]),Object(r.jsx)(f.Provider,{value:{currentUser:a,signin:d,signout:j},children:t})}function x(){var e=Object(o.useContext)(f);if(void 0===e)throw new Error("useAuth must be used within a AuthProvider");return e}var p=n(19),v=n(132),C=n(133),w=n(151),S=n(134),T=n(56),y=n(152),R=n(140),k=n(135),P=n(138),q=n(139);var A=function(e){var t=e.toggleTheme,n=Object(p.a)(),o=x(),i=o.currentUser,a=o.signout,c=Object(g.g)();return Object(r.jsx)(v.a,{position:"static",children:Object(r.jsxs)(C.a,{children:[i&&Object(r.jsx)(w.a,{mr:2,children:Object(r.jsx)(S.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(r.jsx)(k.a,{})})}),Object(r.jsx)(w.a,{flexGrow:1,clone:!0,children:Object(r.jsx)(T.a,{variant:"h6",children:"Aloha, My Home"})}),Object(r.jsx)(y.a,{title:"Toggle Light/Dark Theme",children:Object(r.jsx)(S.a,{color:"inherit",onClick:t,children:"dark"===n.palette.type?Object(r.jsx)(P.a,{}):Object(r.jsx)(q.a,{})})}),i&&Object(r.jsx)(w.a,{ml:2,children:Object(r.jsx)(R.a,{onClick:function(){a((function(){return c.push("/login")}))},color:"inherit",children:"Logout"})})]})})},B=n(142),L=n(143),F=n(144),I=n(145),U=n(150),E=n(146),z=n(55),D=n(40),G=n(54),M=n(141),W=Object(l.a)((function(){return{buttonProgress:function(e){var t=e.progressSize,n=void 0===t?24:t,r="number"===typeof n?n:parseInt(n,10);return{position:"absolute",top:"50%",left:"50%",marginTop:-r/2,marginLeft:-r/2}}}}));var H=function(e){var t=e.loading,n=e.CircularProgressProps,o=Object(G.a)(e,["loading","CircularProgressProps"]),i=W({progressSize:null===n||void 0===n?void 0:n.size});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(R.a,Object(D.a)({variant:"contained",disabled:t},o)),t&&Object(r.jsx)(M.a,Object(D.a)({className:i.buttonProgress},n))]})},J=Object(l.a)((function(e){return{loginContainerRoot:{display:"flex",flexGrow:1},loginCardRoot:{alignSelf:"center",backgroundColor:e.palette.background.paper,padding:e.spacing(2,8)},loginCardContentRoot:{padding:0},loginCardActionsRoot:{justifyContent:"space-between",padding:0}}}));var N=function(){var e=J(),t=x().signin,n=Object(g.g)(),o=Object(g.h)(),i=Object(z.b)({mode:"all",defaultValues:{username:"",password:""}}),a=i.formState,c=i.errors,s=i.handleSubmit,l=i.control;return Object(r.jsx)(B.a,{maxWidth:"xs",classes:{root:e.loginContainerRoot},children:Object(r.jsxs)(L.a,{classes:{root:e.loginCardRoot},elevation:8,children:[Object(r.jsx)(F.a,{title:"Sign in",style:{textAlign:"center"}}),Object(r.jsx)(I.a,{classes:{root:e.loginCardContentRoot},children:Object(r.jsxs)("form",{id:"login-form",autoComplete:"off",onSubmit:s((function(e){var r=(o.state||{from:{pathname:"/"}}).from;t(e,(function(){n.replace(r)}))})),children:[Object(r.jsx)(z.a,{control:l,name:"username",rules:{required:"This field is required."},render:function(e){var t,n=e.onChange,o=e.onBlur,i=e.value,a=e.name,s=e.ref;return Object(r.jsx)(U.a,{required:!0,fullWidth:!0,variant:"outlined",label:"Username",margin:"normal",error:!!c.username,helperText:(null===(t=c.username)||void 0===t?void 0:t.message)||" ",onChange:n,onBlur:o,value:i,name:a,inputRef:s})}}),Object(r.jsx)(z.a,{control:l,name:"password",rules:{required:"This field is required."},render:function(e){var t,n=e.onChange,o=e.onBlur,i=e.value,a=e.name,s=e.ref;return Object(r.jsx)(U.a,{required:!0,fullWidth:!0,variant:"outlined",label:"Password",type:"password",autoComplete:"current-password",margin:"normal",error:!!c.password,helperText:(null===(t=c.password)||void 0===t?void 0:t.message)||" ",onChange:n,onBlur:o,value:i,name:a,inputRef:s})}})]})}),Object(r.jsxs)(E.a,{classes:{root:e.loginCardActionsRoot},children:[Object(r.jsx)(R.a,{disabled:a.isSubmitting,variant:"outlined",children:"Register"}),Object(r.jsx)(H,{type:"submit",disabled:!a.isValid||a.isSubmitting,loading:a.isSubmitting,variant:"contained",form:"login-form",children:"Login"})]})]})})};var V=function(e){var t=e.children,n=Object(G.a)(e,["children"]),o=x().currentUser;return Object(r.jsx)(g.b,Object(D.a)(Object(D.a)({},n),{},{render:function(e){var n=e.location;return o?t:Object(r.jsx)(g.a,{to:{pathname:"/login",state:{from:n}}})}}))},_=Object(l.a)((function(){return{container:{height:"100%",width:"100%",overflow:"auto",display:"flex",flexDirection:"column",flexGrow:1}}}));var K=function(){var e=_(),t=Object(u.a)("(prefers-color-scheme: dark)"),n=Object(o.useState)("true"===localStorage.getItem("prototype_theme")||t),a=Object(s.a)(n,2),c=a[0],l=a[1],f=i.a.useMemo((function(){return Object(d.a)({palette:{type:c?"dark":"light"}})}),[c]);return Object(o.useEffect)((function(){localStorage.setItem("prototype_theme",c.toString())}),[c]),Object(r.jsxs)(j.a,{theme:f,children:[Object(r.jsx)(b.a,{}),Object(r.jsx)(O.a,{children:Object(r.jsx)(m,{children:Object(r.jsx)(h.a,{basename:"/amh",children:Object(r.jsxs)("div",{className:e.container,children:[Object(r.jsx)(A,{toggleTheme:function(){l((function(e){return!e}))}}),Object(r.jsxs)(g.d,{children:[Object(r.jsx)(V,{exact:!0,path:"/",children:Object(r.jsx)("div",{children:"Content Here"})}),Object(r.jsx)(g.b,{path:"/login",children:Object(r.jsx)(N,{})})]})]})})})})]})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,154)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))};c.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(K,{})}),document.getElementById("root")),Q()}},[[99,1,2]]]);
//# sourceMappingURL=main.693610cc.chunk.js.map