(this.webpackJsonpamh=this.webpackJsonpamh||[]).push([[0],{101:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(0),o=n.n(a),i=n(10),c=n.n(i),s=(n(95),n(96),n(97),n(98),n(99),n(100),n(101),n(23)),l=n(139),u=n(154),d=n(74),j=n(155),b=n(156),f=n(43),h=n(13),g=n(75),O=n(11),p=n.n(O),m=n(18),x=n(72),v=Object(a.createContext)(void 0);function w(){var e=Object(a.useContext)(v);if(void 0===e)throw new Error("useAuth must be used within a AuthProvider");return e}var C=function(e){var t=e.children,n=Object(a.useState)(null),o=Object(s.a)(n,2),i=o[0],c=o[1],l=Object(a.useRef)(),u=Object(a.useRef)(),d=Object(a.useRef)(),j=Object(a.useCallback)(function(){var e=Object(m.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.current=new x.CancelablePromise((function(e){l.current=window.setTimeout((function(){c({name:"User"}),null===n||void 0===n||n(),e()}),1e3)})),e.next=3,d.current;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),b=Object(a.useCallback)(function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.setTimeout((function(){c(null),null===t||void 0===t||t()}),500);case 2:u.current=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(a.useEffect)((function(){return function(){var e;window.clearTimeout(l.current),window.clearTimeout(u.current),null===(e=d.current)||void 0===e||e.cancel()}}),[]),Object(r.jsx)(v.Provider,{value:{currentUser:i,signIn:j,signOut:b},children:t})},y=n(20),S=n(142),k=n(143),R=n(158),T=n(57),P=n(159),I=n(146),q=n(147),A=n(148),B=n(41),L=n(54),U=n(140),z=n(141),E=Object(l.a)((function(){return{buttonProgress:function(e){var t=e.progressSize,n=16;return t&&(n="number"===typeof t?t:parseInt(t,10)),{position:"absolute",top:"50%",left:"50%",marginTop:-n/2,marginLeft:-n/2}}}}));var F=function(e){var t=e.loading,n=e.CircularProgressProps,a=void 0===n?{size:16}:n,o=Object(L.a)(e,["loading","CircularProgressProps"]),i=E({progressSize:a.size});return Object(r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(r.jsxs)("div",{style:{position:"relative"},children:[Object(r.jsx)(U.a,Object(B.a)({variant:"contained",disabled:t},o)),t&&Object(r.jsx)(z.a,Object(B.a)({className:i.buttonProgress},a))]})})};var H=function(e){var t=e.toggleTheme,n=Object(y.a)(),o=w(),i=o.currentUser,c=o.signOut,l=Object(a.useState)(!1),u=Object(s.a)(l,2),d=u[0],j=u[1],b=Object(h.g)();return Object(r.jsx)(S.a,{position:"static",children:Object(r.jsxs)(k.a,{children:[Object(r.jsx)(R.a,{flexGrow:1,clone:!0,children:Object(r.jsx)(T.a,{variant:"h6",children:"Aloha, My Home"})}),Object(r.jsx)(P.a,{title:"Toggle ".concat("dark"===n.palette.type?"Light":"Dark"," Theme"),children:Object(r.jsx)(I.a,{color:"inherit",onClick:t,children:"dark"===n.palette.type?Object(r.jsx)(q.a,{}):Object(r.jsx)(A.a,{})})}),i&&Object(r.jsx)(R.a,{ml:2,children:Object(r.jsx)(F,{onClick:function(){j(!0),c((function(){j(!1),b.push("/login")}))},loading:d,children:"Logout"})})]})})},D=n(149),G=n(150),M=n(151),W=n(152),J=n(157),N=n(153),V=n(56),_=Object(l.a)((function(e){return{loginContainerRoot:{display:"flex",flexGrow:1},loginCardRoot:{alignSelf:"center",backgroundColor:e.palette.background.paper,padding:e.spacing(2,8)},loginCardHeaderRoot:{textAlign:"center"},loginCardContentRoot:{padding:0},loginCardActionsRoot:{justifyContent:"space-between",padding:e.spacing(2,0)}}}));var K=function(){var e=_(),t=w().signIn,n=Object(h.g)(),a=Object(h.h)(),o=Object(V.b)({mode:"all",defaultValues:{username:"",password:""}}),i=o.formState,c=o.errors,s=o.handleSubmit,l=o.control,u=function(){var e=Object(m.a)(p.a.mark((function e(r){var o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.state||{from:{pathname:"/"}},i=o.from,e.next=3,t(r,(function(){n.replace(i)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(D.a,{maxWidth:"xs",classes:{root:e.loginContainerRoot},children:Object(r.jsxs)(G.a,{classes:{root:e.loginCardRoot},elevation:8,children:[Object(r.jsx)(M.a,{title:"Sign in",classes:{root:e.loginCardHeaderRoot}}),Object(r.jsx)(W.a,{classes:{root:e.loginCardContentRoot},children:Object(r.jsxs)("form",{id:"login-form",autoComplete:"off",onSubmit:s(u),children:[Object(r.jsx)(V.a,{control:l,name:"username",rules:{required:"This field is required."},render:function(e){var t,n=e.onChange,a=e.onBlur,o=e.value,i=e.name,s=e.ref;return Object(r.jsx)(J.a,{id:"login-username",required:!0,fullWidth:!0,variant:"outlined",label:"Username",margin:"normal",error:!!c.username,helperText:(null===(t=c.username)||void 0===t?void 0:t.message)||" ",onChange:n,onBlur:a,value:o,name:i,inputRef:s})}}),Object(r.jsx)(V.a,{control:l,name:"password",rules:{required:"This field is required."},render:function(e){var t,n=e.onChange,a=e.onBlur,o=e.value,i=e.name,s=e.ref;return Object(r.jsx)(J.a,{id:"login-password",required:!0,fullWidth:!0,variant:"outlined",label:"Password",type:"password",autoComplete:"current-password",margin:"normal",error:!!c.password,helperText:(null===(t=c.password)||void 0===t?void 0:t.message)||" ",onChange:n,onBlur:a,value:o,name:i,inputRef:s})}})]})}),Object(r.jsxs)(N.a,{classes:{root:e.loginCardActionsRoot},children:[Object(r.jsx)(U.a,{disabled:i.isSubmitting,variant:"outlined",children:"Register"}),Object(r.jsx)(F,{type:"submit",disabled:!i.isValid||i.isSubmitting,loading:i.isSubmitting,variant:"contained",form:"login-form",children:"Login"})]})]})})};var Q=function(e){var t=e.children,n=Object(L.a)(e,["children"]),a=w().currentUser;return Object(r.jsx)(h.b,Object(B.a)(Object(B.a)({},n),{},{render:function(e){var n=e.location;return a?t:Object(r.jsx)(h.a,{to:{pathname:"/login",state:{from:n}}})}}))},X=Object(l.a)((function(){return{container:{height:"100%",width:"100%",overflow:"auto",display:"flex",flexDirection:"column",flexGrow:1}}}));var Y=function(){var e=X(),t=Object(u.a)("(prefers-color-scheme: dark)"),n=Object(a.useState)("true"===localStorage.getItem("prototype_theme")||t),i=Object(s.a)(n,2),c=i[0],l=i[1],O=o.a.useMemo((function(){return Object(d.a)({palette:{type:c?"dark":"light"}})}),[c]);return Object(a.useEffect)((function(){localStorage.setItem("prototype_theme",c.toString())}),[c]),Object(r.jsxs)(j.a,{theme:O,children:[Object(r.jsx)(b.a,{}),Object(r.jsx)(g.a,{children:Object(r.jsx)(C,{children:Object(r.jsx)(f.a,{basename:"/amh",children:Object(r.jsxs)("div",{className:e.container,children:[Object(r.jsx)(H,{toggleTheme:function(){l((function(e){return!e}))}}),Object(r.jsxs)(h.d,{children:[Object(r.jsx)(Q,{exact:!0,path:"/",children:Object(r.jsx)("div",{children:"Content Here"})}),Object(r.jsx)(h.b,{path:"/login",children:Object(r.jsx)(K,{})})]})]})})})})]})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,161)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))};c.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(Y,{})}),document.getElementById("root")),Z()}},[[107,1,2]]]);
//# sourceMappingURL=main.445e542b.chunk.js.map