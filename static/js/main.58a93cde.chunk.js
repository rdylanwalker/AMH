(this.webpackJsonpamh=this.webpackJsonpamh||[]).push([[0],{101:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(0),o=n.n(a),i=n(10),c=n.n(i),s=(n(95),n(96),n(97),n(98),n(99),n(100),n(101),n(23)),l=n(139),u=n(155),j=n(75),d=n(156),b=n(157),f=n(43),h=n(13),O=n(76),g=n(11),m=n.n(g),p=n(18),x=n(73),v=Object(a.createContext)(void 0);function w(e){var t=e.children,n=Object(a.useState)(null),o=Object(s.a)(n,2),i=o[0],c=o[1],l=Object(a.useRef)(),u=Object(a.useRef)(),j=Object(a.useRef)(),d=Object(a.useCallback)(function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.current=new x.CancelablePromise((function(e){l.current=window.setTimeout((function(){c({name:"User"}),null===n||void 0===n||n(),e()}),1e3)})),e.next=3,j.current;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),b=Object(a.useCallback)(function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.setTimeout((function(){c(null),null===t||void 0===t||t()}),500);case 2:u.current=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(a.useEffect)((function(){return function(){var e;window.clearTimeout(l.current),window.clearTimeout(u.current),null===(e=j.current)||void 0===e||e.cancel()}}),[]),Object(r.jsx)(v.Provider,{value:{currentUser:i,signIn:d,signOut:b},children:t})}function C(){var e=Object(a.useContext)(v);if(void 0===e)throw new Error("useAuth must be used within a AuthProvider");return e}var y=n(20),S=n(142),k=n(143),T=n(159),R=n(144),P=n(57),I=n(160),q=n(145),A=n(148),B=n(149),L=n(41),U=n(55),z=n(140),E=n(141),F=Object(l.a)((function(){return{buttonProgress:function(e){var t=e.progressSize,n=16;return t&&(n="number"===typeof t?t:parseInt(t,10)),{position:"absolute",top:"50%",left:"50%",marginTop:-n/2,marginLeft:-n/2}}}}));var D=function(e){var t=e.loading,n=e.CircularProgressProps,a=void 0===n?{size:16}:n,o=Object(U.a)(e,["loading","CircularProgressProps"]),i=F({progressSize:a.size});return Object(r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(r.jsxs)("div",{style:{position:"relative"},children:[Object(r.jsx)(z.a,Object(L.a)({variant:"contained",disabled:t},o)),t&&Object(r.jsx)(E.a,Object(L.a)({className:i.buttonProgress},a))]})})};var G=function(e){var t=e.toggleTheme,n=Object(y.a)(),o=C(),i=o.currentUser,c=o.signOut,l=Object(a.useState)(!1),u=Object(s.a)(l,2),j=u[0],d=u[1],b=Object(h.g)();return Object(r.jsx)(S.a,{position:"static",children:Object(r.jsxs)(k.a,{children:[i&&Object(r.jsx)(T.a,{mr:2,children:Object(r.jsx)(R.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(r.jsx)(q.a,{})})}),Object(r.jsx)(T.a,{flexGrow:1,clone:!0,children:Object(r.jsx)(P.a,{variant:"h6",children:"Aloha, My Home"})}),Object(r.jsx)(I.a,{title:"Toggle Light/Dark Theme",children:Object(r.jsx)(R.a,{color:"inherit",onClick:t,children:"dark"===n.palette.type?Object(r.jsx)(A.a,{}):Object(r.jsx)(B.a,{})})}),i&&Object(r.jsx)(T.a,{ml:2,children:Object(r.jsx)(D,{onClick:function(){d(!0),c((function(){d(!1),b.push("/login")}))},loading:j,children:"Logout"})})]})})},M=n(150),W=n(151),H=n(152),J=n(153),N=n(158),V=n(154),_=n(56),K=Object(l.a)((function(e){return{loginContainerRoot:{display:"flex",flexGrow:1},loginCardRoot:{alignSelf:"center",backgroundColor:e.palette.background.paper,padding:e.spacing(2,8)},loginCardContentRoot:{padding:0},loginCardActionsRoot:{justifyContent:"space-between",padding:0}}}));var Q=function(){var e=K(),t=C().signIn,n=Object(h.g)(),a=Object(h.h)(),o=Object(_.b)({mode:"all",defaultValues:{username:"",password:""}}),i=o.formState,c=o.errors,s=o.handleSubmit,l=o.control,u=function(){var e=Object(p.a)(m.a.mark((function e(r){var o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.state||{from:{pathname:"/"}},i=o.from,e.next=3,t(r,(function(){n.replace(i)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(M.a,{maxWidth:"xs",classes:{root:e.loginContainerRoot},children:Object(r.jsxs)(W.a,{classes:{root:e.loginCardRoot},elevation:8,children:[Object(r.jsx)(H.a,{title:"Sign in",style:{textAlign:"center"}}),Object(r.jsx)(J.a,{classes:{root:e.loginCardContentRoot},children:Object(r.jsxs)("form",{id:"login-form",autoComplete:"off",onSubmit:s(u),children:[Object(r.jsx)(_.a,{control:l,name:"username",rules:{required:"This field is required."},render:function(e){var t,n=e.onChange,a=e.onBlur,o=e.value,i=e.name,s=e.ref;return Object(r.jsx)(N.a,{required:!0,fullWidth:!0,variant:"outlined",label:"Username",margin:"normal",error:!!c.username,helperText:(null===(t=c.username)||void 0===t?void 0:t.message)||" ",onChange:n,onBlur:a,value:o,name:i,inputRef:s})}}),Object(r.jsx)(_.a,{control:l,name:"password",rules:{required:"This field is required."},render:function(e){var t,n=e.onChange,a=e.onBlur,o=e.value,i=e.name,s=e.ref;return Object(r.jsx)(N.a,{required:!0,fullWidth:!0,variant:"outlined",label:"Password",type:"password",autoComplete:"current-password",margin:"normal",error:!!c.password,helperText:(null===(t=c.password)||void 0===t?void 0:t.message)||" ",onChange:n,onBlur:a,value:o,name:i,inputRef:s})}})]})}),Object(r.jsxs)(V.a,{classes:{root:e.loginCardActionsRoot},children:[Object(r.jsx)(z.a,{disabled:i.isSubmitting,variant:"outlined",children:"Register"}),Object(r.jsx)(D,{type:"submit",disabled:!i.isValid||i.isSubmitting,loading:i.isSubmitting,variant:"contained",form:"login-form",children:"Login"})]})]})})};var X=function(e){var t=e.children,n=Object(U.a)(e,["children"]),a=C().currentUser;return Object(r.jsx)(h.b,Object(L.a)(Object(L.a)({},n),{},{render:function(e){var n=e.location;return a?t:Object(r.jsx)(h.a,{to:{pathname:"/login",state:{from:n}}})}}))},Y=Object(l.a)((function(){return{container:{height:"100%",width:"100%",overflow:"auto",display:"flex",flexDirection:"column",flexGrow:1}}}));var Z=function(){var e=Y(),t=Object(u.a)("(prefers-color-scheme: dark)"),n=Object(a.useState)("true"===localStorage.getItem("prototype_theme")||t),i=Object(s.a)(n,2),c=i[0],l=i[1],g=o.a.useMemo((function(){return Object(j.a)({palette:{type:c?"dark":"light"}})}),[c]);return Object(a.useEffect)((function(){localStorage.setItem("prototype_theme",c.toString())}),[c]),Object(r.jsxs)(d.a,{theme:g,children:[Object(r.jsx)(b.a,{}),Object(r.jsx)(O.a,{children:Object(r.jsx)(w,{children:Object(r.jsx)(f.a,{basename:"/amh",children:Object(r.jsxs)("div",{className:e.container,children:[Object(r.jsx)(G,{toggleTheme:function(){l((function(e){return!e}))}}),Object(r.jsxs)(h.d,{children:[Object(r.jsx)(X,{exact:!0,path:"/",children:Object(r.jsx)("div",{children:"Content Here"})}),Object(r.jsx)(h.b,{path:"/login",children:Object(r.jsx)(Q,{})})]})]})})})})]})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,162)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))};c.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(Z,{})}),document.getElementById("root")),$()}},[[107,1,2]]]);
//# sourceMappingURL=main.58a93cde.chunk.js.map